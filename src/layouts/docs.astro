---
import Master from "./master.astro";
import Navbar from "./partials/navbar.astro";
import Nav from "./partials/nav.astro";
import Footer from "./partials/footer.astro";

const { doc, tbc, slug } = Astro.props;
---

<Master doc={doc}>
  <div class="flex min-h-screen flex-col">
    <div class="flex-1">
      <Navbar />

      <div
        class="mx-auto max-w-7xl flex-none px-4 md:px-8 md:py-0 lg:grid lg:grid-cols-12 lg:gap-10 xl:px-0"
      >
        <aside
          class="sticky top-14 hidden h-[calc(100vh-3.5rem)] overflow-hidden border-e border-border py-8 lg:col-span-3 lg:block xl:col-span-2"
        >
          <div class="-mr-10 h-full overflow-y-scroll pr-10">
            <Nav />
          </div>
        </aside>

        <main
          class="py-8 lg:col-span-9 xl:col-span-10 xl:grid xl:grid-cols-12 xl:gap-10"
        >
          <div class="xl:col-span-9" id="docs">
            <slot />
          </div>

          <div
            class="sticky top-14 hidden h-[calc(100vh-3.5rem)] xl:col-span-3 xl:block"
          >
            <ul
              class="uk-nav-default uk-nav"
              uk-scrollspy-nav="closest: li; scroll: true; offset: 45"
            >
              <li class="uk-nav-header">On This Page</li>
              {
                tbc.map((a: { title: string; slug: string }) => (
                  <li>
                    <a href={`#${a.slug}`} uk-scroll>
                      {a.title}
                    </a>
                  </li>
                ))
              }
              <li class="uk-nav-divider my-2"></li>
              <li>
                <a
                  class="gap-x-2"
                  href="https://github.com/sveltecult/franken-ui"
                  target="_blank"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-circle-alert"
                    ><circle cx="12" cy="12" r="10"></circle><line
                      x1="12"
                      x2="12"
                      y1="8"
                      y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"
                    ></line></svg
                  >
                  <span>Report issue</span>
                </a>
              </li>
              <li>
                <a
                  class="gap-x-2"
                  href={`https://github.com/sveltecult/franken-ui-site/tree/master/src/content/docs/${slug}`}
                  target="_blank"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-notebook-pen"
                    ><path
                      d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"
                    ></path><path d="M2 6h4"></path><path d="M2 10h4"
                    ></path><path d="M2 14h4"></path><path d="M2 18h4"
                    ></path><path
                      d="M18.4 2.6a2.17 2.17 0 0 1 3 3L16 11l-4 1 1-4Z"
                    ></path></svg
                  >
                  <span>Edit this page</span>
                </a>
              </li>
            </ul>
          </div>
        </main>
      </div>
    </div>

    <div class="flex-none border-t border-border">
      <Footer />
    </div>
  </div>
</Master>
